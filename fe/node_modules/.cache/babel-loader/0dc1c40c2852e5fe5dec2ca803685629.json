{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\"; //------------------Constanten und Typen\n\nexport const baseUrl = \"http://localhost:8000/\";\n\n/*\r\n * Useful for http data as a dependency in rendering\r\n *\r\n * @param method [Method], http method\r\n * @param path [string], relative path to baseUrl\r\n * @return, Response Data\r\n */\nexport function useApi(path) {\n  _s();\n\n  const [data, setData] = useState();\n  useEffect(() => {\n    Api(\"GET\", path, setData);\n  }, [path]);\n  return [data, setData];\n}\n/*\r\n * Useful for calls on events or in conditions\r\n *\r\n * @param method [Method], http method\r\n * @param path [string], relative path to baseUrl\r\n * @param data [function], callback, gets `response.data` as an argument\r\n * @param data [object], body data\r\n */\n\n_s(useApi, \"WZ2PO9A64oHRexE1CE+yX3ebuoA=\");\n\nexport function Api(method, path, callback) {\n  let data = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  const config = {\n    method,\n    url: `${baseUrl}${path}`,\n    data\n  };\n  console.log('API config:', config);\n  axios(config).then(response => {\n    return callback(response.data);\n  });\n}\n_c = Api;\nexport function ApiSimplified(method, path) {\n  let data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const config = {\n    method,\n    url: `${baseUrl}${path}`,\n    data\n  };\n  console.log('API config:', config);\n  axios(config).then(response => response.data); // .then((response: AxiosResponse<T>) => console.log('response.data: ', response.data));\n}\n_c2 = ApiSimplified;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Api\");\n$RefreshReg$(_c2, \"ApiSimplified\");","map":{"version":3,"names":["axios","useEffect","useState","baseUrl","useApi","path","data","setData","Api","method","callback","config","url","console","log","then","response","ApiSimplified"],"sources":["/var/www/html/customer-registration-php-react/fe/src/shared/API.ts"],"sourcesContent":["import axios, { AxiosResponse, Method } from \"axios\";\r\nimport { Dispatch, SetStateAction, useEffect, useState } from \"react\";\r\n\r\n//------------------Constanten und Typen\r\nexport const baseUrl = \"http://localhost:8000/\";\r\n\r\ntype SetState<T> = Dispatch<SetStateAction<T>>;\r\n\r\n/*\r\n * Useful for http data as a dependency in rendering\r\n *\r\n * @param method [Method], http method\r\n * @param path [string], relative path to baseUrl\r\n * @return, Response Data\r\n */\r\nexport function useApi<T>(\r\n  path: string\r\n): [T | undefined, SetState<T | undefined>] {\r\n  const [data, setData] = useState<T>();\r\n\r\n  useEffect(() => {\r\n    Api(\"GET\", path, setData);\r\n  }, [path]);\r\n\r\n  return [data, setData];\r\n}\r\n\r\n/*\r\n * Useful for calls on events or in conditions\r\n *\r\n * @param method [Method], http method\r\n * @param path [string], relative path to baseUrl\r\n * @param data [function], callback, gets `response.data` as an argument\r\n * @param data [object], body data\r\n */\r\n\r\n\r\nexport function Api<T>(\r\n    method: Method, path: string,  callback: any,\r\n    data = {}): void {\r\n\r\n        const config ={\r\n            method,\r\n            url: `${baseUrl}${path}`,\r\n            data,\r\n        } ;\r\n\r\n        console.log('API config:',config);\r\n        \r\n        axios(config).then((response: AxiosResponse<T>) => {\r\n            return callback(response.data);\r\n        });\r\n}\r\n\r\nexport function ApiSimplified<T>(method: Method, path: string, data = {}) {\r\n\r\n      const config ={\r\n          method,\r\n          url: `${baseUrl}${path}`,\r\n          data,\r\n      } ;\r\n\r\n      console.log('API config:',config);\r\n      \r\n      axios(config)\r\n      .then((response: AxiosResponse<T>) => response.data);\r\n      // .then((response: AxiosResponse<T>) => console.log('response.data: ', response.data));\r\n\r\n}"],"mappings":";;AAAA,OAAOA,KAAP,MAA6C,OAA7C;AACA,SAAmCC,SAAnC,EAA8CC,QAA9C,QAA8D,OAA9D,C,CAEA;;AACA,OAAO,MAAMC,OAAO,GAAG,wBAAhB;;AAIP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,MAAT,CACLC,IADK,EAEqC;EAAA;;EAC1C,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,EAAhC;EAEAD,SAAS,CAAC,MAAM;IACdO,GAAG,CAAC,KAAD,EAAQH,IAAR,EAAcE,OAAd,CAAH;EACD,CAFQ,EAEN,CAACF,IAAD,CAFM,CAAT;EAIA,OAAO,CAACC,IAAD,EAAOC,OAAP,CAAP;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;GAnBgBH,M;;AAsBhB,OAAO,SAASI,GAAT,CACHC,MADG,EACaJ,IADb,EAC4BK,QAD5B,EAEc;EAAA,IAAjBJ,IAAiB,uEAAV,EAAU;EAEb,MAAMK,MAAM,GAAE;IACVF,MADU;IAEVG,GAAG,EAAG,GAAET,OAAQ,GAAEE,IAAK,EAFb;IAGVC;EAHU,CAAd;EAMAO,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA0BH,MAA1B;EAEAX,KAAK,CAACW,MAAD,CAAL,CAAcI,IAAd,CAAoBC,QAAD,IAAgC;IAC/C,OAAON,QAAQ,CAACM,QAAQ,CAACV,IAAV,CAAf;EACH,CAFD;AAGP;KAfeE,G;AAiBhB,OAAO,SAASS,aAAT,CAA0BR,MAA1B,EAA0CJ,IAA1C,EAAmE;EAAA,IAAXC,IAAW,uEAAJ,EAAI;EAEpE,MAAMK,MAAM,GAAE;IACVF,MADU;IAEVG,GAAG,EAAG,GAAET,OAAQ,GAAEE,IAAK,EAFb;IAGVC;EAHU,CAAd;EAMAO,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA0BH,MAA1B;EAEAX,KAAK,CAACW,MAAD,CAAL,CACCI,IADD,CACOC,QAAD,IAAgCA,QAAQ,CAACV,IAD/C,EAVoE,CAYpE;AAEL;MAdeW,a"},"metadata":{},"sourceType":"module"}